@page "/upload"
@inherits ViewModelComponent<TomorrowlandSessionPlanner.Core.ViewModel.UploadPlanViewModel>

<MudStack Justify="Justify.Center" Style="display: flex; align-items: center; height: 100%">
    <MudText Align="Align.Center" GutterBottom Typo="Typo.h3">Bitte Lade hier deine Plan Datei hoch!</MudText>
    <MudPaper Outlined Class="pa-8">
        <MudFileUpload T="IBrowserFile" FilesChanged="UploadFileChanged" Accept=".tmlplanner" MaximumFileCount="1" Required>
            <ButtonTemplate>
                <MudButton HtmlTag="label"
                           Variant="Variant.Filled"
                           Color="Color.Primary"
                           StartIcon="@Icons.Material.Filled.CloudUpload"
                           for="@context">
                    Upload Plan
                </MudButton>
            </ButtonTemplate>
            <SelectedTemplate>
                @* ReSharper disable once ConditionIsAlwaysTrueOrFalseAccordingToNullableAPIContract *@
                @if (context is not null)
                {
                    <MudText>@context.Name</MudText>
                }
                else
                {
                    <MudText>Nothing selected</MudText>
                }
            </SelectedTemplate>
        </MudFileUpload>
    </MudPaper>
    <MudText Align="Align.Center" Typo="Typo.h6">
        Deine Dateien werden nicht auf unserem Server gespeichert! Sie werden lediglich ausgelesen und verarbeitet. 
        Kein Byte deiner Datei landet auf unserer Fesplatte.
    </MudText>
</MudStack>

<style>
        body, html {
            height: 100%;
            overflow-x: hidden;
        }
        
        .mud-main-content {
            height: 100% !important;
        }
</style>